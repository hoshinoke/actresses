-# coding: utf-8
- if @actress && !@actress.similars.empty?
  %h3 
    = "#{@actress.name} に似ている女優"
  - @actress.similars = @actress.similars.sort_by{rand}
  -# トップページなら全部、それ以外なら6個
  - @lis = request.path=="/" ? 6  : 2
  - @uls = request.path=="/" ? @actress.similars.size / 6  : 1
  - @uls.times do |i|
    %ul.thumbnails
      - (i*@lis).upto(i*@lis+@lis-1) do |n|
        - @a = @actress.similars[n]
        - if @a
          %li.span2
            %a.thumbnail{:href=>"/actress/#{@a.name}"}
              %img{:src=>"#{@a.thumbnail_rand}",:onerror=>"this.src='/assets/no_image.gif';this.width='128';this.height='128';this.style.left=0;",:style=>"left:0px;",:alt=>"#{@a.name}",:title=>"#{@a.name}"}
            %a{:href=>"/actress/#{@a.name}"}
              = @a.name + " #{@a.photos.size.to_s}枚"

- if request.path=="/" 
  %h3 おすすめ女優
- else
  %h3 ピックアップ
- @actresses = @actresses.sort_by{rand}
-# トップページなら全部、それ以外なら6個
- @lis = request.path=="/" ? 6  : 2
- @uls = request.path=="/" ? @actresses.size / 6  : 1
- @uls.times do |i|
  %ul.thumbnails
    - (i*@lis).upto(i*@lis+@lis-1) do |n|
      - @a = @actresses[n]
      - if @a
        %li.span2
          %a.thumbnail{:href=>"/actress/#{@a.name}"}
            %img{:src=>"#{@a.thumbnail_rand}",:onerror=>"this.src='/assets/no_image.gif';this.width='128';this.height='128';this.style.left=0;",:style=>"left:0px;",:alt=>"#{@a.name}",:title=>"#{@a.name}"}
          %a{:href=>"/actress/#{@a.name}"}
            = @a.name + " #{@a.photos.size.to_s}枚"


